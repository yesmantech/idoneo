import{j as e,A as E,m as C}from"./framer-BdaCTGm4.js";import{r as x,b as P,u as $,L}from"./router-ClfHAwMg.js";import{s as N,h as p,d as O,c as k}from"./index-DBMi1b3R.js";import{l as T,ag as B,y as A,ah as I,ai as S,x as q,a1 as R,af as D}from"./icons-DIoLbN6D.js";import"./react-vendor-B--z-fyW.js";import"./supabase-CIvuJI4W.js";function J({title:r,description:a,canonical:t,ogTitle:n,ogDescription:s,ogImage:l,noindex:o=!1,type:u="website",publishedTime:h,modifiedTime:b,author:f}){return x.useEffect(()=>{document.title=r;const d=(c,j,v=!1)=>{const w=v?"property":"name";let m=document.querySelector(`meta[${w}="${c}"]`);m||(m=document.createElement("meta"),m.setAttribute(w,c),document.head.appendChild(m)),m.content=j};if(a&&d("description",a),o?d("robots","noindex, nofollow"):d("robots","index, follow"),d("og:title",n||r,!0),d("og:type",u,!0),(s||a)&&d("og:description",s||a||"",!0),l&&d("og:image",l,!0),t&&d("og:url",t,!0),d("twitter:card","summary_large_image"),d("twitter:title",n||r),(s||a)&&d("twitter:description",s||a||""),l&&d("twitter:image",l),u==="article"&&(h&&d("article:published_time",h,!0),b&&d("article:modified_time",b,!0),f&&d("article:author",f,!0)),t){let c=document.querySelector('link[rel="canonical"]');c||(c=document.createElement("link"),c.rel="canonical",document.head.appendChild(c)),c.href=t}return()=>{document.title="IDONEO"}},[r,a,t,n,s,l,o,u,h,b,f]),null}function U(r){const a="https://idoneo.it";return{"@context":"https://schema.org","@type":"BlogPosting",headline:r.title,description:r.description,image:r.coverImage,author:{"@type":"Person",name:r.authorName||"Team IDONEO"},publisher:{"@type":"Organization",name:"IDONEO",logo:{"@type":"ImageObject",url:`${a}/logo.png`}},datePublished:r.publishedAt,dateModified:r.updatedAt||r.publishedAt,mainEntityOfPage:{"@type":"WebPage","@id":`${a}/blog/${r.slug}`},articleSection:r.categoryName}}function z(r){return{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:r.map((a,t)=>({"@type":"ListItem",position:t+1,name:a.name,item:a.url}))}}function M({data:r}){return x.useEffect(()=>{const a=[];return(Array.isArray(r)?r:[r]).forEach((n,s)=>{const l=document.createElement("script");l.type="application/ld+json",l.text=JSON.stringify(n),l.id=`json-ld-${s}`,document.head.appendChild(l),a.push(l)}),()=>{a.forEach(n=>n.remove())}},[r]),null}function H({blocks:r}){return e.jsx("div",{className:"space-y-8",children:r.map((a,t)=>{switch(a.type){case"paragraph":return e.jsx("p",{className:"text-[18px] lg:text-[19px] leading-[1.8] text-slate-600 dark:text-slate-300 font-medium",children:a.text},t);case"heading":return a.level===2?e.jsx("h2",{id:`heading-${t}`,className:"text-[26px] lg:text-[32px] font-black text-slate-900 dark:text-white mt-14 mb-6 tracking-tight leading-tight scroll-mt-24",children:a.text},t):e.jsx("h3",{id:`heading-${t}`,className:"text-[22px] lg:text-[24px] font-black text-slate-900 dark:text-white mt-10 mb-4 tracking-tight leading-tight scroll-mt-24",children:a.text},t);case"list":return e.jsx("ul",{className:"space-y-4 my-8",children:a.items.map((l,o)=>e.jsxs("li",{className:"flex items-start gap-4 text-[17px] lg:text-[18px] leading-[1.7] text-slate-600 dark:text-slate-300 font-medium group",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-[#00B1FF]/10 dark:bg-[#00B1FF]/20 flex items-center justify-center mt-0.5 group-hover:bg-[#00B1FF]/20 dark:group-hover:bg-[#00B1FF]/30 transition-colors",children:e.jsx("div",{className:"w-2 h-2 rounded-full bg-[#00B1FF]"})}),e.jsx("span",{children:l})]},o))},t);case"callout":const n={tip:{bg:"bg-emerald-50",darkBg:"dark:bg-emerald-900/20",border:"border-emerald-100",darkBorder:"dark:border-emerald-900/50",icon:"ðŸ’¡",text:"text-emerald-900",darkText:"dark:text-emerald-400",tint:"bg-emerald-100",darkTint:"dark:bg-emerald-900/50"},warning:{bg:"bg-amber-50",darkBg:"dark:bg-amber-900/20",border:"border-amber-100",darkBorder:"dark:border-amber-900/50",icon:"âš ï¸",text:"text-amber-900",darkText:"dark:text-amber-400",tint:"bg-amber-100",darkTint:"dark:bg-amber-900/50"},note:{bg:"bg-blue-50",darkBg:"dark:bg-blue-900/20",border:"border-blue-100",darkBorder:"dark:border-blue-900/50",icon:"ðŸ“",text:"text-blue-900",darkText:"dark:text-blue-400",tint:"bg-blue-100",darkTint:"dark:bg-blue-900/50"},example:{bg:"bg-purple-50",darkBg:"dark:bg-purple-900/20",border:"border-purple-100",darkBorder:"dark:border-purple-900/50",icon:"ðŸ“Œ",text:"text-purple-900",darkText:"dark:text-purple-400",tint:"bg-purple-100",darkTint:"dark:bg-purple-900/50"}},s=n[a.variant]||n.note;return e.jsxs("div",{className:k(s.bg,s.darkBg,"rounded-[24px] p-6 lg:p-8 my-10 border",s.border,s.darkBorder),children:[e.jsxs("div",{className:k("font-black text-sm uppercase tracking-widest mb-4 flex items-center gap-2.5",s.text,s.darkText),children:[e.jsx("div",{className:k("w-8 h-8 rounded-full flex items-center justify-center text-lg",s.tint,s.darkTint),children:s.icon}),e.jsx("span",{children:a.title})]}),e.jsx("div",{className:k("text-[17px] font-medium leading-[1.7]",s.text,s.darkText),children:a.text})]},t);case"faq":return e.jsx("div",{className:"space-y-4 my-10",children:a.items.map((l,o)=>e.jsx(Q,{item:l},o))},t);case"cta":return e.jsxs("div",{className:"bg-gradient-to-br from-[#00B1FF] to-[#0188C5] rounded-[32px] p-8 lg:p-12 my-12 text-white relative overflow-hidden shadow-2xl shadow-[#00B1FF]/30",children:[e.jsx("div",{className:"absolute -right-20 -top-20 w-64 h-64 bg-white/10 rounded-full blur-3xl text-xs"}),e.jsxs("div",{className:"relative z-10 text-center",children:[e.jsx("h3",{className:"text-2xl lg:text-3xl font-black mb-4 tracking-tight",children:a.title}),e.jsx("p",{className:"text-white/80 mb-8 text-[16px] lg:text-[18px] font-medium max-w-lg mx-auto leading-relaxed",children:a.description}),e.jsxs(L,{to:a.buttonUrl,onClick:()=>p(),className:"inline-flex items-center gap-2 bg-white text-[#00B1FF] font-black px-10 py-4 rounded-full hover:scale-105 transition-all shadow-lg active:scale-95",children:[e.jsx("span",{children:a.buttonText}),e.jsx(R,{className:"w-5 h-5 rotate-180"})]})]})]},t);case"image":return e.jsxs("figure",{className:"my-12",children:[e.jsx("div",{className:"rounded-[32px] overflow-hidden shadow-soft bg-slate-100 dark:bg-slate-800",children:e.jsx("img",{src:a.url,alt:a.alt,className:"w-full h-auto"})}),a.caption&&e.jsx("figcaption",{className:"text-center text-sm font-bold text-slate-400 dark:text-slate-500 mt-5 uppercase tracking-wider",children:a.caption})]},t);case"table":return e.jsx("div",{className:"my-10 overflow-hidden rounded-[24px] border border-slate-200 dark:border-slate-800 shadow-soft bg-white dark:bg-slate-900/50",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-slate-100 dark:divide-slate-800",children:[e.jsx("thead",{className:"bg-slate-50/80 dark:bg-slate-800/80",children:e.jsx("tr",{children:a.headers.map((l,o)=>e.jsx("th",{className:"text-left px-6 py-4 font-black text-slate-900 dark:text-white text-[13px] uppercase tracking-wider",children:l},o))})}),e.jsx("tbody",{className:"divide-y divide-slate-50 dark:divide-slate-800",children:a.rows.map((l,o)=>e.jsx("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/50 transition-colors",children:l.map((u,h)=>e.jsx("td",{className:"px-6 py-4 text-[15px] font-medium text-slate-600 dark:text-slate-300",children:u},h))},o))})]})})},t);default:return null}})})}function Q({item:r}){const[a,t]=x.useState(!1);return e.jsxs("div",{className:"bg-white dark:bg-[var(--card)] rounded-[24px] border border-slate-200/60 dark:border-[var(--card-border)] shadow-soft overflow-hidden transition-colors",children:[e.jsxs("button",{onClick:()=>{p(),t(!a)},className:"w-full px-6 py-5 flex items-center justify-between text-left group",children:[e.jsx("span",{className:"font-black text-slate-900 dark:text-white leading-tight group-hover:text-[#00B1FF] transition-colors pr-4",children:r.question}),e.jsx("div",{className:k("w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center shrink-0 transition-transform duration-300",a?"rotate-180 bg-[#00B1FF]/10 text-[#00B1FF]":"text-slate-400 dark:text-slate-500"),children:e.jsx(D,{className:"w-5 h-5"})})]}),e.jsx(C.div,{initial:!1,animate:{height:a?"auto":0,opacity:a?1:0},className:"overflow-hidden",children:e.jsx("div",{className:"px-6 pb-6 text-slate-500 dark:text-slate-400 font-medium text-[16px] leading-relaxed border-t border-slate-100/50 dark:border-slate-800/50 pt-4",children:r.answer})})]})}function W({post:r,formatDate:a}){return e.jsx(L,{to:`/blog/${r.slug}`,onClick:()=>p(),className:"group block bg-white dark:bg-[var(--card)] rounded-[32px] p-4 shadow-soft hover:shadow-card dark:border dark:border-[var(--card-border)] transition-all active:scale-[0.98]",children:e.jsxs("div",{className:"flex gap-4",children:[r.cover_image_url&&e.jsx("div",{className:"w-24 h-24 lg:w-32 lg:h-32 overflow-hidden rounded-[20px] bg-slate-50 dark:bg-slate-800 shrink-0",children:e.jsx("img",{src:r.cover_image_url,alt:r.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"})}),e.jsxs("div",{className:"flex flex-col justify-center min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-[#00B1FF] mb-1.5",children:[e.jsx("span",{children:a(r.published_at)}),e.jsx("div",{className:"w-1 h-1 rounded-full bg-slate-300 dark:bg-slate-600"}),e.jsxs("span",{children:[r.reading_time_minutes," min read"]})]}),e.jsx("h3",{className:"text-[17px] font-black text-slate-900 dark:text-white group-hover:text-[#00B1FF] transition-colors leading-tight mb-2 line-clamp-2",children:r.title}),r.subtitle&&e.jsx("p",{className:"text-[13px] text-slate-500 dark:text-slate-400 font-medium line-clamp-1",children:r.subtitle})]})]})})}function ee(){var m,y,_;const{slug:r}=P(),a=$(),[t,n]=x.useState(null),[s,l]=x.useState([]),[o,u]=x.useState(!0),[h,b]=x.useState(!1);x.useEffect(()=>{r&&(window.scrollTo(0,0),f())},[r]);const f=async()=>{const{data:i,error:g}=await N.from("blog_posts").select(`
                *,
                category:blog_categories(*),
                author:blog_authors(*)
            `).eq("slug",r).eq("status","published").single();if(g||!i){a("/blog");return}if(n(i),await N.from("blog_posts").update({view_count:(i.view_count||0)+1}).eq("id",i.id),i.category_id){const{data:F}=await N.from("blog_posts").select("id, slug, title, subtitle, cover_image_url, published_at, reading_time_minutes").eq("category_id",i.category_id).eq("status","published").neq("id",i.id).limit(3);F&&l(F)}u(!1)},d=i=>i?new Date(i).toLocaleDateString("it-IT",{day:"numeric",month:"short",year:"numeric"}):"",c=typeof window<"u"?window.location.href:"",j=async()=>{await navigator.clipboard.writeText(c),O(),b(!0),setTimeout(()=>b(!1),2e3)},v=x.useMemo(()=>{var i,g;return t?U({title:t.seo_title||t.title,description:t.seo_description||t.subtitle||void 0,slug:t.slug,coverImage:t.og_image_url||t.cover_image_url||void 0,authorName:(i=t.author)==null?void 0:i.display_name,publishedAt:t.published_at||void 0,updatedAt:t.updated_at,categoryName:(g=t.category)==null?void 0:g.name}):null},[t]),w=x.useMemo(()=>{var g;const i=[{name:"Home",url:"https://idoneo.it/"},{name:"Blog",url:"https://idoneo.it/blog"}];return t!=null&&t.category&&i.push({name:t.category.name,url:`https://idoneo.it/blog/categoria/${(g=t.category)==null?void 0:g.slug}`}),t&&i.push({name:t.title,url:`https://idoneo.it/blog/${t.slug}`}),z(i)},[t]);return o?e.jsx("div",{className:"min-h-screen bg-[#F3F5F7] dark:bg-[var(--background)] flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-2 border-[#00B1FF] border-t-transparent rounded-full animate-spin"})}):t?e.jsxs("div",{className:"min-h-screen bg-[#F3F5F7] dark:bg-[var(--background)] transition-colors duration-300",children:[e.jsx(J,{title:`${t.seo_title||t.title} | IDONEO Blog`,description:t.seo_description||t.subtitle||void 0,canonical:t.canonical_url||`https://idoneo.it/blog/${t.slug}`,ogTitle:t.seo_title||t.title,ogDescription:t.seo_description||t.subtitle||void 0,ogImage:t.og_image_url||t.cover_image_url||void 0,noindex:t.is_noindex,type:"article",publishedTime:t.published_at||void 0,modifiedTime:t.updated_at,author:(m=t.author)==null?void 0:m.display_name}),e.jsx(M,{data:[v,w].filter(Boolean)}),e.jsx("header",{className:"sticky top-0 z-50 bg-white/80 dark:bg-[#11141a]/80 backdrop-blur-md border-b border-slate-200/50 dark:border-slate-800/50 pt-safe transition-colors",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-5 h-16 flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>{p(),a("/blog")},className:"flex items-center gap-2 group p-1 -ml-1 text-[#00B1FF]",children:[e.jsx(T,{className:"w-6 h-6"}),e.jsx("span",{className:"font-black text-sm uppercase tracking-wider",children:"Blog"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("button",{onClick:j,className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-600 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors relative",children:[e.jsx(B,{className:"w-4 h-4"}),e.jsx(E,{children:h&&e.jsx(C.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0},className:"absolute -bottom-10 left-1/2 -translate-x-1/2 text-[10px] font-black uppercase bg-slate-900 dark:bg-white text-white dark:text-slate-900 px-3 py-1.5 rounded-full whitespace-nowrap",children:"Copiato!"})})]})})]})}),e.jsx("main",{className:"max-w-4xl mx-auto px-5 py-8 md:py-12",children:e.jsxs("div",{className:"max-w-[720px] mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-2 text-[11px] font-black uppercase tracking-[0.1em] text-[#00B1FF] mb-6",children:[e.jsx(A,{className:"w-4 h-4"}),e.jsx("span",{children:d(t.published_at)}),e.jsx("div",{className:"w-1 h-1 rounded-full bg-slate-300 dark:bg-slate-600"}),e.jsxs("span",{children:[t.reading_time_minutes," min read"]})]}),e.jsx("h1",{className:"text-[32px] md:text-[48px] font-black text-slate-900 dark:text-white leading-[1.05] mb-8 tracking-tight",children:t.title}),e.jsxs("div",{className:"flex items-center gap-3 mb-10 pb-8 border-b border-slate-200/50 dark:border-slate-800/50",children:[(y=t.author)!=null&&y.avatar_url?e.jsx("img",{src:t.author.avatar_url,alt:t.author.display_name,className:"w-10 h-10 rounded-full object-cover border border-slate-200 dark:border-slate-800"}):e.jsx("div",{className:"w-10 h-10 rounded-full bg-[#00B1FF] flex items-center justify-center text-white font-black text-sm",children:"I"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[15px] font-black text-slate-900 dark:text-white truncate",children:((_=t.author)==null?void 0:_.display_name)||"Idoneo"}),e.jsx("div",{className:"text-[12px] font-medium text-slate-500 dark:text-slate-400",children:"Redazione Idoneo"})]})]}),t.cover_image_url&&e.jsx("div",{className:"rounded-[32px] overflow-hidden mb-12 shadow-soft aspect-[16/10]",children:e.jsx("img",{src:t.cover_image_url,alt:t.title,className:"w-full h-full object-cover"})}),t.subtitle&&e.jsx("div",{className:"text-[20px] md:text-[22px] text-slate-900 dark:text-slate-200 font-bold leading-relaxed mb-12 pr-4",children:t.subtitle}),e.jsx("article",{className:"prose prose-slate dark:prose-invert max-w-none",children:e.jsx(H,{blocks:t.content||[]})}),e.jsxs("div",{className:"mt-16 pt-10 border-t border-slate-200/50 dark:border-slate-800/50 flex flex-col md:flex-row items-center justify-between gap-6",children:[e.jsx("span",{className:"text-sm font-black uppercase tracking-widest text-slate-400 dark:text-slate-500",children:"Condividi la guida"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("a",{href:`https://twitter.com/intent/tweet?text=${encodeURIComponent(t.title)}&url=${encodeURIComponent(c)}`,target:"_blank",rel:"noopener",onClick:()=>p(),className:"w-12 h-12 rounded-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 flex items-center justify-center text-slate-600 dark:text-slate-400 hover:text-sky-500 hover:border-sky-500 transition-all shadow-sm",children:e.jsx(I,{className:"w-5 h-5"})}),e.jsx("a",{href:`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(c)}`,target:"_blank",rel:"noopener",onClick:()=>p(),className:"w-12 h-12 rounded-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 flex items-center justify-center text-slate-600 dark:text-slate-400 hover:text-blue-600 hover:border-blue-600 transition-all shadow-sm",children:e.jsx(S,{className:"w-5 h-5"})}),e.jsx("button",{onClick:j,className:"w-12 h-12 rounded-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 flex items-center justify-center text-slate-600 dark:text-slate-400 hover:text-[#00B1FF] hover:border-[#00B1FF] transition-all shadow-sm",children:e.jsx(B,{className:"w-5 h-5"})})]})]})]})}),s.length>0&&e.jsx("section",{className:"bg-white/50 dark:bg-black/20 border-t border-slate-200/50 dark:border-slate-800/50 py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-10",children:[e.jsx("div",{className:"w-10 h-10 rounded-2xl bg-[#00B1FF]/10 flex items-center justify-center",children:e.jsx(q,{className:"w-5 h-5 text-[#00B1FF]"})}),e.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white tracking-tight",children:"Potrebbe interessarti"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(i=>e.jsx(W,{post:i,formatDate:d},i.id))})]})}),e.jsx("div",{className:"pb-32 lg:pb-12"})]}):null}export{ee as default};
