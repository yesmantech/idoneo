import{j as e,A as ye}from"./framer-CcO5Kjcw.js";import{b as Ce,u as ze,a as _e,r as o}from"./router-ClfHAwMg.js";import{a as Fe,s as j,l as qe}from"./index-Z19V86or.js";import{x as Ae}from"./xpService-BVUCU30F.js";import{s as Ie}from"./statsService-Cb4H8UUT.js";import{b as $e}from"./badgeService-_zsnpv-k.js";import{offlineService as Q}from"./offlineService-CsdT_UCs.js";import{T as ae}from"./TierSLoader-CVYPZXYz.js";import{X as J,r as Ee,k as oe,l as Le,j as Te,s as Be,T as Oe}from"./icons-Dvxa2Qho.js";import"./react-vendor-B--z-fyW.js";import"./supabase-CIvuJI4W.js";function L(z){return z?z.replace(/[.,:;()\[\]]/g,"").trim().toLowerCase():null}function Ze(){const{attemptId:z,id:ne}=Ce(),i=z||ne,y=ze(),[_]=_e(),C=_.get("time"),le=parseFloat(_.get("correct")||"1"),ie=parseFloat(_.get("wrong")||"0"),ce=parseFloat(_.get("blank")||"0"),[T,B]=o.useState(!0),[u,O]=o.useState([]),[x,F]=o.useState(0),[k,de]=o.useState(!1),[ue,me]=o.useState(!1),[xe,P]=o.useState(!1),[fe,q]=o.useState(!1),[be,A]=o.useState(!1),[N,U]=o.useState(!1),[he,I]=o.useState(!1),[ge,R]=o.useState(!1),[$,V]=o.useState(""),[W,G]=o.useState(""),[X,Z]=o.useState(!1),[f,H]=o.useState(()=>typeof window<"u"?localStorage.getItem("quiz_instant_check")==="true":!1),[b,Y]=o.useState(()=>typeof window<"u"?localStorage.getItem("quiz_auto_next")==="true":!1),[m,pe]=o.useState(null);o.useEffect(()=>{localStorage.setItem("quiz_instant_check",String(f))},[f]),o.useEffect(()=>{localStorage.setItem("quiz_auto_next",String(b))},[b]);const v=o.useRef([]);o.useEffect(()=>{v.current=u},[u]);const{startOnboarding:K,hasCompletedContext:ee}=Fe();o.useEffect(()=>{if(!T&&u.length>0&&!ee("quiz")){const t=setTimeout(()=>K("quiz"),800);return()=>clearTimeout(t)}},[T,u.length,ee,K]),o.useEffect(()=>{if(!i)return;(async()=>{if(i.startsWith("local-"))try{const s=await Q.getLocalAttempt(i);if(s){let l=s.answers.map(r=>({questionId:r.questionId,text:r.text,subjectId:r.subjectId||"",subjectName:r.subjectName||"Materia",selectedOption:r.selectedOption,correctOption:r.correctOption,isCorrect:!1,isSkipped:!1,isLocked:!1,explanation:r.explanation,options:r.options}));const c=localStorage.getItem(`quiz_progress_${i}`);if(c)try{const r=JSON.parse(c);Array.isArray(r)&&r.length===l.length&&(l=r)}catch(r){console.error("LocalStorage parse error",r)}O(l),v.current=l,B(!1);return}else{alert("Sessione offline non trovata."),y(-1);return}}catch(s){console.error("Offline load error",s),B(!1);return}const{data:a}=await j.from("quiz_attempts").select("*").eq("id",i).single();if(a){let s=Array.isArray(a.answers)?a.answers:[];const l=localStorage.getItem(`quiz_progress_${i}`);if(l)try{const d=JSON.parse(l);Array.isArray(d)&&d.length===s.length&&(s=d)}catch(d){console.error("LocalStorage parse error",d)}const c=s.map(d=>d.questionId);if(c.length>0){const{data:d}=await j.from("questions").select("id, explanation").in("id",c);d&&(s=s.map(g=>{const n=d.find(p=>p.id===g.questionId);return{...g,explanation:(n==null?void 0:n.explanation)||null}}))}O(s),v.current=s;const{data:r}=await j.from("quizzes").select("use_custom_pass_threshold, min_correct_for_pass").eq("id",a.quiz_id).single();r&&pe({useCustomPassThreshold:r.use_custom_pass_threshold,minCorrectForPass:r.min_correct_for_pass})}B(!1)})()},[i,y]);const[h,D]=o.useState(null);o.useEffect(()=>{if(C){const t=parseFloat(C);t>0?D(Math.ceil(t*60)):D(null)}},[C]),o.useEffect(()=>{if(h===null||k)return;if(h<=0){M();return}const t=setInterval(()=>{D(a=>a!==null&&a>0?a-1:0)},1e3);return()=>clearInterval(t)},[h,k]);const[E,ve]=o.useState(0),te=o.useRef(0);o.useEffect(()=>{if(!(!b||k||E===0)&&E>te.current){te.current=E;const a=setTimeout(()=>{F(s=>s<u.length-1?s+1:s)},f?1200:400);return()=>clearTimeout(a)}},[E,b,k,f,u.length]);const we=async()=>{if(!$)return alert("Seleziona una motivazione.");console.log("Starting report process...");const t=v.current.length>0?v.current[x]:u[x];if(console.log("Current Question:",t),!t){alert("Errore: Impossibile identificare la domanda corrente.");return}Z(!0);try{console.log("Checking auth...");const{data:{user:a},error:s}=await j.auth.getUser();if(s||!a)throw console.error("Auth Error:",s),new Error("Devi essere loggato per inviare segnalazioni.");console.log("User found:",a.id);const l={user_id:a.id,question_id:t.questionId,reason:$,description:W||"",status:"pending"};console.log("Sending payload:",l);const{data:c,error:r}=await j.from("question_reports").insert(l).select();if(r)throw console.error("Supabase Level Error:",r),r;console.log("Success! Data:",c),I(!1),V(""),G(""),A(!1),R(!0)}catch(a){console.error("Report Catch Error:",a),alert(`Errore Invio: ${a.message||JSON.stringify(a)}`)}finally{Z(!1)}},je=o.useCallback(t=>{if(k)return;const a=v.current.length>0?v.current:u,s=a[x];if(!s||s.isLocked)return;b&&s.selectedOption===null&&ve(Date.now());const l=[...a],c=L(s.correctOption),r=f;l[x]={...s,selectedOption:t,isCorrect:t===c,isSkipped:!1,isLocked:r},v.current=l,O(l),i&&localStorage.setItem(`quiz_progress_${i}`,JSON.stringify(l))},[k,x,f,i,u,b]);o.useEffect(()=>{const t=document.getElementById(`question-nav-${x}`);t&&t.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},[x,N]);const M=async()=>{if(k||!i)return;de(!0),me(!0);let t=v.current.length>0?v.current:u;const a=localStorage.getItem(`quiz_progress_${i}`);if(a)try{const n=JSON.parse(a);Array.isArray(n)&&n.length===t.length&&(t=n)}catch(n){console.error("Finish LS Parse Error",n)}let s=0,l=0,c=0,r=0;const d=t.map(n=>{const p=L(n.correctOption),se=L(n.selectedOption),re=se!==null&&se===p;return n.selectedOption===null?(c++,r+=ce):re?(s++,r+=le):(l++,r+=ie),{...n,isCorrect:re,isSkipped:n.selectedOption===null}});if(r=Math.round(r*100)/100,i.startsWith("local-"))try{const p={...await Q.getLocalAttempt(i),finished_at:new Date().toISOString(),score:r,correct:s,wrong:l,blank:c,answers:d,duration_seconds:h!==null?parseFloat(C||"0")*60-h:0,is_idoneo:m!=null&&m.useCustomPassThreshold?s>=(m.minCorrectForPass||0):null,pass_threshold:m!=null&&m.useCustomPassThreshold?m.minCorrectForPass:null};await Q.savePendingAttempt(p),localStorage.removeItem(`quiz_progress_${i}`),y(`/quiz/results/${i}`);return}catch(n){console.error("Local save error",n),alert("Errore salvataggio locale.");return}const{error:g}=await j.from("quiz_attempts").update({finished_at:new Date().toISOString(),score:r,correct:s,wrong:l,blank:c,answers:d,duration_seconds:h!==null?parseFloat(C||"0")*60-h:0,is_idoneo:m!=null&&m.useCustomPassThreshold?s>=(m.minCorrectForPass||0):null,pass_threshold:m!=null&&m.useCustomPassThreshold?m.minCorrectForPass:null}).eq("id",i);if(g){console.error("Save error:",g),alert(`Errore salvataggio: ${g.message}`);return}try{const{data:{user:n}}=await j.auth.getUser();if(n){await Ae.awardXpForAttempt(i,n.id);const{data:p}=await j.from("quiz_attempts").select("quiz_id").eq("id",i).single();p!=null&&p.quiz_id&&(await Ie.updateGoals(n.id,p.quiz_id,{score:r,correct:s,total:d.length}),await qe.updateUserScore(n.id,p.quiz_id),await $e.checkAndAwardBadges(n.id))}}catch(n){console.error("Post-finish updates error:",n)}localStorage.removeItem(`quiz_progress_${i}`),y(`/quiz/results/${i}`)},ke=t=>{if(t===null)return"âˆž";const a=Math.floor(t/60),s=t%60;return`${a}:${s.toString().padStart(2,"0")}`},Ne=()=>h===null?"text-slate-600 dark:text-slate-300":h<60?"text-red-500":h<300?"text-amber-500":"text-slate-600 dark:text-slate-300";if(T)return e.jsx(ae,{message:"Caricamento quiz..."});const w=u[x];if(!w)return e.jsx("div",{className:"min-h-screen bg-[var(--background)] flex items-center justify-center text-[var(--foreground)]",children:"Errore dati"});const S=w.isLocked||!1,Se=L(w.correctOption);return e.jsxs(e.Fragment,{children:[e.jsx(ye,{children:ue&&e.jsx(ae,{message:"Salvataggio in corso...",submessage:"Attendi qualche secondo"})}),e.jsxs("div",{className:"min-h-screen bg-[var(--background)] text-[var(--foreground)] flex flex-col transition-colors duration-500",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-[var(--card)] border-b border-[var(--card-border)] pt-safe",children:e.jsxs("div",{className:"h-14 px-4 flex items-center justify-between max-w-3xl mx-auto",children:[e.jsx("button",{onClick:()=>P(!0),className:"w-10 h-10 flex items-center justify-center rounded-full bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:e.jsx(J,{className:"w-5 h-5 text-[var(--foreground)] opacity-50"})}),e.jsxs("div",{"data-onboarding":"timer",className:"flex flex-col items-center",children:[e.jsx("span",{className:`font-mono font-bold text-xl ${Ne()}`,children:ke(h)}),e.jsxs("span",{className:"text-[10px] text-slate-500 dark:text-slate-300 font-semibold uppercase tracking-wider",children:["Domanda ",x+1,"/",u.length]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"hidden sm:flex items-center bg-slate-100 dark:bg-slate-800 rounded-full p-0.5",children:[e.jsx("button",{onClick:()=>H(!f),className:`px-3 py-1.5 rounded-full text-[11px] font-semibold transition-all ${f?"bg-white dark:bg-slate-700 text-[#00B1FF] shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Check"}),e.jsx("button",{onClick:()=>Y(!b),className:`px-3 py-1.5 rounded-full text-[11px] font-semibold transition-all ${b?"bg-white dark:bg-slate-700 text-[#00B1FF] shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Auto"})]}),e.jsx("button",{"data-onboarding":"settings",onClick:()=>A(!0),className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:e.jsx(Ee,{className:"w-5 h-5 text-[var(--foreground)] opacity-30"})})]})]})}),e.jsxs("main",{className:"flex-1 px-5 py-3 max-w-3xl mx-auto w-full pb-32",children:[e.jsx("div",{className:"mb-3",children:e.jsxs("span",{className:"text-[12px] font-semibold text-[var(--foreground)] opacity-40 uppercase tracking-wider",children:[x+1," / ",u.length," â€¢ ",w.subjectName]})}),e.jsx("h2",{className:"text-[19px] font-bold text-[var(--foreground)] leading-[1.35] mb-5",children:w.text}),S&&e.jsxs("div",{className:"mb-4 flex items-center gap-2 text-[12px] font-semibold text-amber-600",children:[e.jsx("span",{children:"ðŸ”’"})," Risposta bloccata"]}),e.jsx("div",{className:"space-y-3",children:["a","b","c","d"].map(t=>{const a=w.options[t];if(!a)return null;const s=w.selectedOption===t,l=t===Se,c=S;let r="bg-[var(--card)] border-[var(--card-border)]",d="bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-400",g="text-[var(--foreground)] opacity-80";return S?l?(r="bg-emerald-50 border-emerald-500",d="bg-emerald-500 text-white",g="text-emerald-700"):s?(r="bg-red-50 dark:bg-red-900/20 border-red-500",d="bg-red-500 text-white",g="text-red-700 dark:text-red-400"):r="bg-slate-50 dark:bg-slate-900/50 border-slate-100 dark:border-slate-800 opacity-50":s&&(r="bg-[#00B1FF]/5 border-[#00B1FF]",d="bg-[#00B1FF] text-white",g="text-[#00B1FF]"),e.jsxs("button",{onClick:()=>!c&&je(t),disabled:c,className:`w-full p-4 rounded-2xl border-2 flex items-start gap-4 text-left transition-all duration-200 ${r} ${c?"":"hover:shadow-md active:scale-[0.99]"}`,children:[e.jsx("span",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-[13px] font-bold flex-shrink-0 ${d}`,children:t.toUpperCase()}),e.jsx("span",{className:`text-[15px] leading-relaxed flex-1 ${g}`,children:a}),S&&l&&e.jsx(oe,{className:"w-5 h-5 text-emerald-500 flex-shrink-0 mt-0.5"}),S&&s&&!l&&e.jsx(J,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"})]},t)})}),S&&f&&w.explanation&&e.jsxs("div",{className:"mt-6 bg-[var(--card)] border border-[var(--card-border)] rounded-2xl p-5 shadow-sm",children:[e.jsx("h4",{className:"text-[12px] font-bold text-[#00B1FF] uppercase tracking-wider mb-2",children:"Spiegazione"}),e.jsx("p",{className:"text-[14px] text-[var(--foreground)] opacity-70 leading-relaxed",children:w.explanation})]})]}),e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[var(--card)] border-t border-[var(--card-border)] pb-safe z-40 transition-colors",children:[e.jsx("div",{className:"relative flex justify-center",children:e.jsx("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2",children:e.jsxs("div",{className:"relative w-28 h-8",children:[e.jsx("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 112 32",fill:"none",style:{filter:"drop-shadow(0 -2px 8px rgba(0,0,0,0.1))"},children:e.jsx("path",{d:"M10 32 L18 8 C20 3 24 0 30 0 L82 0 C88 0 92 3 94 8 L102 32 Z",fill:"var(--card)"})}),e.jsx("button",{onClick:()=>U(!N),className:"absolute left-1/2 -translate-x-1/2 top-2 w-16 h-5 rounded-md bg-gradient-to-b from-[#00B1FF] to-[#0095dd] flex items-center justify-center active:scale-95 transition-transform",style:{boxShadow:"0 2px 4px rgba(0,177,255,0.4), inset 0 1px 0 rgba(255,255,255,0.3)"},children:e.jsx("svg",{width:"14",height:"8",viewBox:"0 0 14 8",fill:"none",className:`text-white transition-transform duration-200 ${N?"rotate-180":""}`,children:e.jsx("path",{d:"M1.5 6.5L7 1.5L12.5 6.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}),e.jsx("div",{className:"h-px bg-slate-100 dark:bg-slate-800"}),e.jsx("div",{"data-onboarding":"navigation",className:`transition-all duration-300 ease-in-out ${N?"max-h-[50vh] overflow-y-auto":"max-h-20 overflow-hidden"}`,children:e.jsx("div",{className:"px-4 py-0.5 border-b border-slate-50 dark:border-slate-800",children:e.jsx("div",{className:`flex gap-2 py-1.5 max-w-3xl mx-auto ${N?"flex-wrap justify-center px-1":"overflow-x-auto scrollbar-hide pl-1"}`,children:u.map((t,a)=>{const s=a===x,l=t.selectedOption!==null;let c="bg-slate-200 dark:bg-slate-700 text-slate-400 dark:text-slate-200";return s?c="bg-white dark:bg-slate-900 text-[#00B1FF] border-2 border-[#00B1FF] shadow-sm scale-110 z-10":l&&(c="bg-[#00B1FF] text-white shadow-sm"),e.jsx("button",{id:`question-nav-${a}`,onClick:()=>F(a),className:`w-9 h-9 rounded-squircle flex-shrink-0 font-semibold text-[13px] transition-all flex items-center justify-center ${c}`,children:a+1},a)})})})}),e.jsx("div",{className:"px-4 py-2 flex gap-3 max-w-3xl mx-auto",children:N?e.jsxs("button",{onClick:()=>{U(!1),q(!0)},className:"flex-1 py-3 rounded-xl font-semibold text-[15px] bg-red-500 text-white hover:bg-red-600 active:scale-[0.98] transition-all flex items-center justify-center gap-2",children:[e.jsx(J,{className:"w-4 h-4"}),"Termina Quiz"]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>F(t=>Math.max(0,t-1)),disabled:x===0,className:`flex-1 py-3 rounded-xl font-semibold text-[15px] flex items-center justify-center gap-2 transition-all ${x===0?"bg-slate-100 dark:bg-slate-800 text-slate-300 dark:text-slate-600":"bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 active:scale-[0.98]"}`,children:[e.jsx(Le,{className:"w-5 h-5"}),"Precedente"]}),x===u.length-1?e.jsx("button",{onClick:()=>q(!0),className:"flex-1 py-3 rounded-xl font-semibold text-[15px] bg-red-500 text-white hover:bg-red-600 active:scale-[0.98] transition-all",children:"Termina Quiz"}):e.jsxs("button",{onClick:()=>F(t=>Math.min(u.length-1,t+1)),className:"flex-1 py-3 rounded-xl font-semibold text-[15px] bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 active:scale-[0.98] transition-all flex items-center justify-center gap-2",children:["Successiva",e.jsx(Te,{className:"w-5 h-5"})]})]})})]}),be&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>A(!1)}),e.jsxs("div",{className:"relative bg-[var(--card)] border border-[var(--card-border)] rounded-t-3xl sm:rounded-2xl w-full sm:max-w-sm p-6 animate-in slide-in-from-bottom duration-300",children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)] mb-6",children:"Impostazioni"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-[var(--foreground)]",children:"Verifica Istantanea"}),e.jsx("p",{className:"text-[13px] text-[var(--foreground)] opacity-50",children:"Mostra risposta corretta subito"})]}),e.jsx("button",{onClick:()=>H(!f),className:`w-12 h-7 rounded-full transition-colors ${f?"bg-[#00B1FF]":"bg-slate-200"}`,children:e.jsx("div",{className:`w-5 h-5 rounded-full bg-white shadow-sm transition-transform ${f?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-[var(--foreground)]",children:"Auto Successiva"}),e.jsx("p",{className:"text-[13px] text-[var(--foreground)] opacity-50",children:"Passa alla domanda successiva"})]}),e.jsx("button",{onClick:()=>Y(!b),className:`w-12 h-7 rounded-full transition-colors ${b?"bg-[#00B1FF]":"bg-slate-200 dark:bg-slate-700"}`,children:e.jsx("div",{className:`w-5 h-5 rounded-full bg-white shadow-sm transition-transform ${b?"translate-x-6":"translate-x-1"}`})})]}),e.jsx("div",{className:"pt-4 border-t border-[var(--card-border)]",children:e.jsxs("button",{onClick:()=>I(!0),className:"w-full py-3 flex items-center justify-center gap-2 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-xl font-medium hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:[e.jsx(Be,{className:"w-4 h-4"}),"Segnala un errore"]})})]}),e.jsx("button",{onClick:()=>A(!1),className:"w-full mt-6 py-3 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 font-semibold rounded-xl",children:"Chiudi"})]})]}),he&&e.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>I(!1)}),e.jsxs("div",{className:"relative bg-[var(--card)] border border-[var(--card-border)] rounded-2xl w-full max-w-sm p-6 animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center",children:e.jsx(Oe,{className:"w-5 h-5 text-amber-600 dark:text-amber-500"})}),e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)]",children:"Segnala Errore"})]}),e.jsx("p",{className:"text-sm text-[var(--foreground)] opacity-60 mb-4",children:"Aiutaci a migliorare. Qual Ã¨ il problema con questa domanda?"}),e.jsx("div",{className:"space-y-3 mb-6",children:["Risposta errata","Domanda malformata","Typos o errori grammaticali","Altro"].map(t=>e.jsx("button",{onClick:()=>V(t),className:`w-full p-3 rounded-xl text-left text-sm font-medium transition-all ${$===t?"bg-amber-50 dark:bg-amber-900/20 text-amber-600 border border-amber-200 dark:border-amber-800":"bg-slate-50 dark:bg-slate-800 text-[var(--foreground)] border border-transparent hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:t},t))}),e.jsx("textarea",{value:W,onChange:t=>G(t.target.value),placeholder:"Dettagli aggiuntivi (opzionale)...",className:"w-full mb-4 p-3 rounded-xl bg-slate-50 dark:bg-slate-800 border-none text-sm text-[var(--foreground)] focus:ring-2 focus:ring-amber-500 min-h-[80px]"}),e.jsx("button",{onClick:we,disabled:X||!$,className:"w-full py-3.5 bg-amber-500 hover:bg-amber-600 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold rounded-xl transition-colors",children:X?"Invio...":"Invia Segnalazione"}),e.jsx("button",{onClick:()=>I(!1),className:"w-full mt-3 py-3 text-[var(--foreground)] opacity-50 font-medium text-sm",children:"Annulla"})]})]}),ge&&e.jsxs("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>R(!1)}),e.jsxs("div",{className:"relative bg-[var(--card)] border border-[var(--card-border)] rounded-2xl w-full max-w-sm p-8 flex flex-col items-center text-center animate-in zoom-in-95 duration-300",children:[e.jsx("div",{className:"w-16 h-16 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center mb-4",children:e.jsx(oe,{className:"w-8 h-8 text-emerald-500"})}),e.jsx("h3",{className:"text-xl font-black text-[var(--foreground)] mb-2",children:"Segnalazione Inviata"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Grazie per il tuo contributo! Analizzeremo la tua segnalazione al piÃ¹ presto."}),e.jsx("button",{onClick:()=>R(!1),className:"w-full py-3.5 bg-[#00B1FF] hover:bg-[#0095dd] text-white font-bold rounded-xl transition-colors shadow-lg shadow-[#00B1FF]/20",children:"Chiudi"})]})]}),xe&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>P(!1)}),e.jsxs("div",{className:"relative bg-[var(--card)] border border-[var(--card-border)] rounded-2xl w-full max-w-sm p-6 animate-in zoom-in-95 duration-200",children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)] text-center mb-2",children:"Vuoi abbandonare il quiz?"}),e.jsx("p",{className:"text-[var(--foreground)] opacity-50 text-center text-[14px] mb-6",children:"Se esci senza salvare, tutte le risposte andranno perse e il tentativo non verrÃ  registrato."}),e.jsx("button",{onClick:M,className:"w-full py-3.5 bg-emerald-500 hover:bg-emerald-600 text-white font-bold rounded-xl transition-colors",children:"Salva e Termina"}),e.jsx("button",{onClick:()=>y("/"),className:"w-full mt-3 py-3 bg-red-100 dark:bg-red-500/20 text-red-600 dark:text-red-400 font-semibold rounded-xl hover:bg-red-200 dark:hover:bg-red-500/30 transition-colors",children:"Esci senza salvare"}),e.jsx("button",{onClick:()=>P(!1),className:"w-full mt-3 py-3 text-[var(--foreground)] opacity-50 font-medium",children:"Continua il quiz"})]})]}),fe&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>q(!1)}),e.jsxs("div",{className:"relative bg-[var(--card)] border border-[var(--card-border)] rounded-2xl w-full max-w-sm p-6 animate-in zoom-in-95 duration-200",children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)] text-center mb-2",children:"Terminare il quiz?"}),e.jsx("p",{className:"text-[var(--foreground)] opacity-50 text-center text-[14px] mb-6",children:"Verranno salvate tutte le risposte date finora."}),e.jsx("button",{onClick:M,className:"w-full py-3.5 bg-emerald-500 hover:bg-emerald-600 text-white font-bold rounded-xl transition-colors",children:"Termina e Salva"}),e.jsx("button",{onClick:()=>q(!1),className:"w-full mt-3 py-3 text-[var(--foreground)] opacity-50 font-medium",children:"Continua"})]})]})]})]})}export{Ze as default};
