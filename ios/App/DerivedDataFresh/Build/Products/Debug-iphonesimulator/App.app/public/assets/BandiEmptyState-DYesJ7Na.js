import{j as e,m as d}from"./framer-CcO5Kjcw.js";import{Q as m,o as u,B as f,M as g,H as N,ay as b,az as w,x as v,aA as k}from"./icons-Dvxa2Qho.js";import{L as x}from"./router-ClfHAwMg.js";function _({bando:s,variant:l="default",onSaveToggle:i,isSaved:r=!1}){var o,t,h;const a=s.days_remaining??0,c=a<=7&&a>0,n=p=>{p.preventDefault(),p.stopPropagation(),i==null||i(s.id,!r)};return l==="compact"?e.jsx(x,{to:`/bandi/${s.slug}`,children:e.jsx(d.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-white dark:bg-slate-800 rounded-2xl p-4 shadow-sm border border-slate-100 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:((o=s.ente)==null?void 0:o.name)||"Ente non specificato"}),e.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white text-sm mt-1 line-clamp-2",children:s.title}),e.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-slate-500",children:[s.seats_total&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(m,{className:"w-3 h-3"}),s.seats_total]}),e.jsxs("span",{className:`flex items-center gap-1 ${c?"text-amber-500 font-medium":""}`,children:[e.jsx(u,{className:"w-3 h-3"}),a,"gg"]})]})]}),e.jsx(j,{daysRemaining:a,size:"sm"})]})})}):l==="featured"?e.jsx(x,{to:`/bandi/${s.slug}`,children:e.jsxs(d.div,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},className:"relative bg-gradient-to-br from-emerald-500 to-teal-600 rounded-3xl p-5 text-white overflow-hidden min-w-[280px] shadow-lg shadow-emerald-500/20",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white rounded-full -translate-y-1/2 translate-x-1/2"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white rounded-full translate-y-1/2 -translate-x-1/2"})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(f,{className:"w-4 h-4 opacity-80"}),e.jsx("span",{className:"text-sm opacity-90 truncate",children:(t=s.ente)==null?void 0:t.name})]}),e.jsx("h3",{className:"font-bold text-lg leading-tight line-clamp-2 mb-3",children:s.title}),e.jsxs("div",{className:"flex items-center gap-4 text-sm opacity-90",children:[s.region&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(g,{className:"w-4 h-4"}),s.region]}),s.seats_total&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(m,{className:"w-4 h-4"}),s.seats_total," posti"]})]}),e.jsx("div",{className:"mt-4 flex items-center justify-between",children:e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl px-3 py-1.5 text-sm font-medium",children:["⏰ Scade tra ",a," giorni"]})})]})]})}):e.jsx(x,{to:`/bandi/${s.slug}`,children:e.jsx(d.div,{whileHover:{scale:1.01},whileTap:{scale:.99},className:"bg-white dark:bg-slate-800 rounded-2xl p-4 shadow-sm border border-slate-100 dark:border-slate-700 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400 mb-1",children:[e.jsx(f,{className:"w-4 h-4"}),e.jsx("span",{className:"truncate",children:((h=s.ente)==null?void 0:h.name)||"Ente non specificato"})]}),e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white line-clamp-2 leading-tight",children:s.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 mt-3 text-sm text-slate-500 dark:text-slate-400",children:[s.region&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(g,{className:"w-4 h-4"}),s.region]}),s.seats_total&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(m,{className:"w-4 h-4"}),s.seats_total," posti",s.seats_reserved?` (${s.seats_reserved} ris.)`:""]})]}),s.category&&e.jsx("div",{className:"mt-3",children:e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-lg bg-slate-100 dark:bg-slate-700 text-xs font-medium text-slate-600 dark:text-slate-300",children:[s.category.icon," ",s.category.name]})})]}),e.jsxs("div",{className:"flex flex-col items-end gap-3",children:[e.jsx(j,{daysRemaining:a}),e.jsx(d.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:n,className:`p-2 rounded-xl transition-colors ${r?"bg-red-50 dark:bg-red-500/20 text-red-500":"bg-slate-100 dark:bg-slate-700 text-slate-400 hover:text-red-500"}`,children:e.jsx(N,{className:`w-5 h-5 ${r?"fill-current":""}`})})]})]})})})}function j({daysRemaining:s,size:l="md"}){const i=s<=0,r=s<=3,a=s<=7;let c="bg-emerald-100 dark:bg-emerald-500/20",n="text-emerald-700 dark:text-emerald-400",o=`${s}gg`;i?(c="bg-slate-100 dark:bg-slate-700",n="text-slate-500 dark:text-slate-400",o="Chiuso"):r?(c="bg-red-100 dark:bg-red-500/20",n="text-red-600 dark:text-red-400",o=s===0?"OGGI":s===1?"DOMANI":`${s}gg`):a&&(c="bg-amber-100 dark:bg-amber-500/20",n="text-amber-600 dark:text-amber-400");const t=l==="sm"?"px-2 py-0.5 text-xs":"px-3 py-1 text-sm";return e.jsxs(d.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:`${c} ${n} ${t} rounded-lg font-semibold flex items-center gap-1`,children:[e.jsx(u,{className:l==="sm"?"w-3 h-3":"w-4 h-4"}),o]})}function B({type:s,searchQuery:l,onRetry:i,onClearFilters:r}){const a={"no-results":{icon:v,title:l?`Nessun risultato per "${l}"`:"Nessun bando trovato",description:"Prova a modificare i filtri o i termini di ricerca",action:r?{label:"Rimuovi filtri",onClick:r}:void 0},"no-saved":{icon:N,title:"Nessun bando salvato",description:"Esplora i bandi e salva quelli che ti interessano",action:{label:"Sfoglia Bandi",href:"/bandi"}},error:{icon:w,title:"Qualcosa è andato storto",description:"Non siamo riusciti a caricare i bandi. Riprova.",action:i?{label:"Riprova",onClick:i}:void 0},offline:{icon:b,title:"Sei offline",description:"I dati mostrati potrebbero non essere aggiornati",action:void 0}},{icon:c,title:n,description:o,action:t}=a[s];return e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center py-16 px-6 text-center",children:[e.jsx(d.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.1,damping:10},className:"w-20 h-20 rounded-3xl bg-slate-100 dark:bg-slate-800 flex items-center justify-center mb-6",children:e.jsx(c,{className:"w-10 h-10 text-slate-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-white mb-2",children:n}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6 max-w-xs",children:o}),t&&("href"in t?e.jsx(x,{to:t.href,className:"px-6 py-3 rounded-2xl bg-emerald-500 text-white font-semibold hover:bg-emerald-600 transition-colors",children:t.label}):e.jsxs(d.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t.onClick,className:"flex items-center gap-2 px-6 py-3 rounded-2xl bg-emerald-500 text-white font-semibold hover:bg-emerald-600 transition-colors",children:[s==="error"&&e.jsx(k,{className:"w-4 h-4"}),t.label]}))]})}export{B,_ as a};
