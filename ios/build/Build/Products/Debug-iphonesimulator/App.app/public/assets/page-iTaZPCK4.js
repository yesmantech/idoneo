import{j as e}from"./framer-BdaCTGm4.js";import{r as m,L as x}from"./router-ClfHAwMg.js";import{s as c}from"./index-BBBGEo7o.js";import{A as p}from"./AdminLayout-kYIYYLNk.js";import{A as h}from"./AdminPageHeader-CVyPYYOb.js";import{u as f,m as u,R as j,V as v,Q as N,W as C,Y as y,_ as w,w as _,$ as z,a0 as k,j as B,o as A}from"./icons-ByDj-hsa.js";import"./react-vendor-B--z-fyW.js";import"./supabase-CIvuJI4W.js";function d({icon:t,iconBg:i,iconColor:o,label:r,value:l,link:s}){const n=e.jsxs("div",{className:"bg-[var(--card)] rounded-[20px] p-5 shadow-[0_4px_16px_rgba(0,0,0,0.04)] hover:shadow-[0_8px_24px_rgba(0,0,0,0.08)] transition-all duration-300 border border-[var(--card-border)] group",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsx("div",{className:`w-11 h-11 rounded-[14px] flex items-center justify-center ${i}`,children:e.jsx(t,{className:`w-5 h-5 ${o}`})})}),e.jsx("div",{className:"text-3xl font-bold text-[var(--foreground)] mb-1 tracking-tight",children:l.toLocaleString()}),e.jsx("div",{className:"text-sm font-medium text-[var(--foreground)] opacity-50",children:r})]});return s?e.jsx(x,{to:s,className:"block",children:n}):n}function a({icon:t,iconBg:i,iconColor:o,label:r,description:l,to:s}){return e.jsxs(x,{to:s,className:"flex items-start gap-4 p-5 bg-[var(--card)] rounded-[20px] shadow-[0_4px_16px_rgba(0,0,0,0.04)] hover:shadow-[0_8px_24px_rgba(0,0,0,0.08)] transition-all duration-300 border border-[var(--card-border)] group",children:[e.jsx("div",{className:`w-11 h-11 rounded-[14px] flex items-center justify-center flex-shrink-0 ${i}`,children:e.jsx(t,{className:`w-5 h-5 ${o}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-[15px] font-semibold text-[var(--foreground)] mb-0.5",children:r}),e.jsx("div",{className:"text-[13px] text-[var(--foreground)] opacity-50 line-clamp-1",children:l})]}),e.jsx(B,{className:"w-5 h-5 text-slate-300 group-hover:text-slate-400 group-hover:translate-x-0.5 transition-all flex-shrink-0 mt-1"})]})}function P(){return e.jsxs("div",{className:"bg-[var(--card)] rounded-[20px] p-10 shadow-[0_4px_16px_rgba(0,0,0,0.04)] border border-[var(--card-border)] text-center transition-colors",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(A,{className:"w-8 h-8 text-[var(--foreground)] opacity-20"})}),e.jsx("h3",{className:"text-lg font-semibold text-[var(--foreground)] opacity-80 mb-2",children:"Nessuna attività recente"}),e.jsx("p",{className:"text-sm text-[var(--foreground)] opacity-40 max-w-sm mx-auto",children:"Le azioni effettuate dagli admin compariranno qui."})]})}function G(){const[t,i]=m.useState({totalQuestions:0,totalQuizzes:0,totalPosts:0,publishedPosts:0}),[o,r]=m.useState(!0);return m.useEffect(()=>{(async()=>{try{const[s,n,g,b]=await Promise.all([c.from("questions").select("id",{count:"exact",head:!0}),c.from("quizzes").select("id",{count:"exact",head:!0}),c.from("blog_posts").select("id",{count:"exact",head:!0}),c.from("blog_posts").select("id",{count:"exact",head:!0}).eq("status","published")]);i({totalQuestions:s.count??0,totalQuizzes:n.count??0,totalPosts:g.count??0,publishedPosts:b.count??0})}catch(s){console.error("Failed to load stats:",s)}finally{r(!1)}})()},[]),e.jsxs(p,{children:[e.jsx(h,{title:"Dashboard",subtitle:"Panoramica della piattaforma IDONEO"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5 mb-8",children:[e.jsx(d,{icon:f,iconBg:"bg-emerald-50",iconColor:"text-emerald-500",label:"Domande totali",value:o?0:t.totalQuestions,link:"/admin/questions"}),e.jsx(d,{icon:u,iconBg:"bg-blue-50",iconColor:"text-blue-500",label:"Concorsi",value:o?0:t.totalQuizzes,link:"/admin/quiz"}),e.jsx(d,{icon:j,iconBg:"bg-purple-50",iconColor:"text-purple-500",label:"Articoli blog",value:o?0:t.totalPosts,link:"/admin/blog"}),e.jsx(d,{icon:v,iconBg:"bg-emerald-50",iconColor:"text-emerald-500",label:"Articoli pubblicati",value:o?0:t.publishedPosts,link:"/admin/blog"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-lg font-semibold text-[var(--foreground)] mb-4",children:"Azioni rapide"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(a,{icon:N,iconBg:"bg-blue-50",iconColor:"text-blue-500",label:"Gestisci utenti",description:"Visualizza e modifica gli account",to:"/admin/users"}),e.jsx(a,{icon:C,iconBg:"bg-emerald-50",iconColor:"text-emerald-500",label:"Gestisci domande",description:"Modifica la banca dati",to:"/admin/questions"}),e.jsx(a,{icon:y,iconBg:"bg-amber-50",iconColor:"text-amber-500",label:"Struttura concorsi",description:"Categorie e ruoli",to:"/admin/structure"}),e.jsx(a,{icon:w,iconBg:"bg-purple-50",iconColor:"text-purple-500",label:"Gestisci Blog",description:"Articoli e news",to:"/admin/blog"}),e.jsx(a,{icon:u,iconBg:"bg-amber-100",iconColor:"text-amber-600",label:"Classifiche",description:"Monitora i punteggi",to:"/admin/leaderboard"}),e.jsx(a,{icon:_,iconBg:"bg-rose-50",iconColor:"text-rose-500",label:"Regole simulazione",description:"Configura le prove",to:"/admin/rules"}),e.jsx(a,{icon:z,iconBg:"bg-cyan-50",iconColor:"text-cyan-500",label:"Importa CSV",description:"Carica domande in batch",to:"/admin/upload-csv"}),e.jsx(a,{icon:k,iconBg:"bg-indigo-50",iconColor:"text-indigo-500",label:"Gestisci immagini",description:"Media library",to:"/admin/images"})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-[var(--foreground)] mb-4",children:"Attività recente"}),e.jsx(P,{})]})]})}export{G as default};
