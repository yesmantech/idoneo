import{j as e}from"./framer-BdaCTGm4.js";import{j as c,k as i,T as d,X as x}from"./icons-ByDj-hsa.js";import{L as u}from"./router-ClfHAwMg.js";function m(t){switch(t){case"custom":return{label:"Personalizzata",className:"bg-purple-100 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400"};case"official":return{label:"Esame",className:"bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400"};case"simulation":return{label:"Simulazione",className:"bg-sky-100 dark:bg-sky-900/20 text-sky-600 dark:text-sky-400"};default:return{label:"Simulazione",className:"bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-400"}}}function b(t){return t>=60?{label:"Idoneo",status:"pass",icon:i,bgColor:"bg-emerald-50 dark:bg-emerald-900/20",textColor:"text-emerald-600 dark:text-emerald-400",progressColor:"#10B981"}:t>=50?{label:"Quasi",status:"near",icon:d,bgColor:"bg-amber-50 dark:bg-amber-900/20",textColor:"text-amber-600 dark:text-amber-400",progressColor:"#F59E0B"}:{label:"Non idoneo",status:"fail",icon:x,bgColor:"bg-red-50 dark:bg-red-900/20",textColor:"text-red-600 dark:text-red-400",progressColor:"#EF4444"}}function p({percentage:t,color:l,size:s=44}){const a=(s-3)/2,r=a*2*Math.PI,n=r-t/100*r;return e.jsxs("div",{className:"relative flex-shrink-0",style:{width:s,height:s},children:[e.jsxs("svg",{width:s,height:s,className:"transform -rotate-90",children:[e.jsx("circle",{cx:s/2,cy:s/2,r:a,fill:"none",stroke:"currentColor",strokeWidth:3,className:"text-slate-100 dark:text-slate-800"}),e.jsx("circle",{cx:s/2,cy:s/2,r:a,fill:"none",stroke:l,strokeWidth:3,strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:n,className:"transition-all duration-500"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-[10px] font-bold text-[var(--foreground)] opacity-70",children:[t.toFixed(0),"%"]})})]})}const k=({attempt:t})=>{var r;const l=t.total_questions>0?t.correct/t.total_questions*100:0,s=b(l),o=m(t.mode),a=s.icon;return e.jsx(u,{to:`/quiz/results/${t.id}`,className:"block bg-white dark:bg-[var(--card)] rounded-2xl p-4 shadow-sm hover:shadow-md transition-all active:scale-[0.99] border border-[var(--card-border)] group",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(p,{percentage:l,color:s.progressColor}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[e.jsx("span",{className:"text-sm font-bold text-slate-900 dark:text-[var(--foreground)]",children:new Date(t.created_at).toLocaleDateString("it-IT",{day:"2-digit",month:"short",year:"numeric"})}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase ${o.className}`,children:o.label})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded-lg ${s.bgColor}`,children:[e.jsx(a,{className:`w-3.5 h-3.5 ${s.textColor}`}),e.jsx("span",{className:`text-xs font-bold ${s.textColor}`,children:s.label})]}),e.jsxs("span",{className:"text-[11px] text-slate-400 dark:text-slate-500 opacity-80",children:[t.correct,"/",t.total_questions," â€¢ Voto: ",((r=t.score)==null?void 0:r.toFixed(1))||"0.0"]})]})]}),e.jsx(c,{className:"w-5 h-5 text-slate-300 dark:text-slate-600 opacity-50 group-hover:opacity-100 group-hover:text-[#00B1FF] transition-all flex-shrink-0"})]})})};export{k as A};
