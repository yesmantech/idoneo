const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/offlineService-NJrdonGj.js","assets/index-BBBGEo7o.js","assets/framer-BdaCTGm4.js","assets/router-ClfHAwMg.js","assets/react-vendor-B--z-fyW.js","assets/supabase-CIvuJI4W.js","assets/icons-ByDj-hsa.js","assets/index-QF7jdbCP.css"])))=>i.map(i=>d[i]);
import{s as b,i as v,h as j,b as w,u as N,a as y,_ as F}from"./index-BBBGEo7o.js";import{j as e}from"./framer-BdaCTGm4.js";import{r as d,L as h,R as k}from"./router-ClfHAwMg.js";import{getCategories as C,getAllSearchableItems as B}from"./data-m5Fh6naf.js";import{x as _,ar as E,b as S,l as A,j as I,I as z,a as p,B as D,H as R,af as P,ad as L,ae as H}from"./icons-ByDj-hsa.js";import{S as O}from"./SEOHead-B7u-rzTH.js";import"./react-vendor-B--z-fyW.js";import"./supabase-CIvuJI4W.js";function $({post:a}){return e.jsxs(h,{to:`/blog/${a.slug}`,className:"block relative overflow-hidden rounded-[28px] lg:rounded-[32px] group shadow-soft border border-[var(--card-border)] transition-all duration-700 hover:shadow-hover",style:{aspectRatio:"16 / 9"},children:[a.cover_image_url?e.jsx("img",{src:a.cover_image_url,alt:a.title,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-1000 group-hover:scale-110",loading:"eager",sizes:"(max-width: 768px) 100vw, 66vw"}):e.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(135deg, #00B1FF 0%, #0891B2 30%, #10B981 70%, #22C55E 100%)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700"})]})}function T({post:a}){return e.jsx(h,{to:`/blog/${a.slug}`,className:"block relative overflow-hidden rounded-[20px] lg:rounded-[24px] group shadow-soft border border-[var(--card-border)] transition-all duration-500 hover:shadow-hover",style:{aspectRatio:"16 / 9"},children:a.cover_image_url?e.jsx("img",{src:a.cover_image_url,alt:a.title,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-1000 group-hover:scale-110",loading:"lazy",sizes:"(max-width: 768px) 100vw, 33vw"}):e.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(135deg, #0891B2 0%, #00B1FF 50%, #10B981 100%)"}})})}function q(){return e.jsx("section",{className:"px-4 md:px-8 py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 animate-pulse rounded-[24px]",style:{aspectRatio:"16 / 9"}})}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"bg-slate-200 animate-pulse rounded-[16px]",style:{aspectRatio:"16 / 9"}}),e.jsx("div",{className:"bg-slate-200 animate-pulse rounded-[16px]",style:{aspectRatio:"16 / 9"}})]})]})})})}function G(){const[a,s]=d.useState([]),[t,l]=d.useState(!0);if(d.useEffect(()=>{(async()=>{try{const{data:n}=await b.from("blog_posts").select("id, slug, title, subtitle, cover_image_url, category:blog_categories(name)").eq("status","published").order("is_featured",{ascending:!1}).order("published_at",{ascending:!1}).limit(5);n&&s(n)}catch(n){console.error("Failed to fetch blog posts:",n)}finally{l(!1)}})()},[]),t)return e.jsx(q,{});if(a.length===0)return null;const o=a[0],i=a.slice(1,3);return e.jsx("section",{className:"px-4 py-6 md:py-10 pt-safe",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx($,{post:o})}),e.jsx("div",{className:"flex flex-col gap-4",children:i.map(c=>e.jsx(T,{post:c},c.id))})]})})})}function K({items:a=[]}){const{open:s}=v(),t=()=>{j(),w.track("search_used",{context:"homepage_trigger"}),s()};return e.jsx("div",{className:"w-full","data-onboarding":"search",children:e.jsxs("div",{onClick:t,className:"relative cursor-pointer group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-5 lg:pl-6 flex items-center pointer-events-none",children:e.jsx(_,{className:"w-5 h-5 lg:w-6 lg:h-6 text-slate-400 group-hover:text-[#00B1FF] transition-colors"})}),e.jsx("div",{className:`w-full h-[52px] lg:h-[60px] pl-14 lg:pl-16 pr-5 bg-[var(--card)] 
                               text-[15px] lg:text-base font-medium text-[var(--foreground)] opacity-50 flex items-center
                               shadow-soft border border-[var(--card-border)] rounded-[26px] lg:rounded-[30px]
                               group-hover:border-[#00B1FF]/30 group-hover:shadow-lg group-hover:shadow-[#00B1FF]/5 transition-all duration-200`,children:"Cerca concorso..."}),e.jsxs("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 hidden lg:flex items-center gap-1.5 px-2.5 py-1.5 rounded-xl border border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-[11px] font-bold text-slate-500 dark:text-slate-400 uppercase tracking-tight group-hover:border-[#00B1FF]/20 group-hover:bg-[#00B1FF]/5 transition-all",children:[e.jsx(E,{className:"w-3 h-3"}),e.jsx("span",{children:"K"})]})]})})}function V({contest:a,index:s=0}){const t=(n,m)=>{const r=n.toLowerCase();if(r.includes("carabinieri"))return{Icon:p,gradient:"from-[#4F8CFF] via-[#3B7BF7] to-[#2563EB]",glow:"rgba(59, 130, 246, 0.4)"};if(r.includes("polizia"))return{Icon:p,gradient:"from-[#38BDF8] via-[#0EA5E9] to-[#0284C7]",glow:"rgba(14, 165, 233, 0.4)"};if(r.includes("finanza")||r.includes("guardia"))return{Icon:p,gradient:"from-[#FCD34D] via-[#F59E0B] to-[#D97706]",glow:"rgba(245, 158, 11, 0.4)"};if(r.includes("inps")||r.includes("entrate")||r.includes("agenzia"))return{Icon:D,gradient:"from-[#94A3B8] via-[#64748B] to-[#475569]",glow:"rgba(100, 116, 139, 0.35)"};if(r.includes("sanitÃ ")||r.includes("infermier"))return{Icon:R,gradient:"from-[#FDA4AF] via-[#F43F5E] to-[#E11D48]",glow:"rgba(244, 63, 94, 0.4)"};if(r.includes("scuola")||r.includes("docent"))return{Icon:P,gradient:"from-[#C4B5FD] via-[#A78BFA] to-[#7C3AED]",glow:"rgba(167, 139, 250, 0.4)"};if(r.includes("giustizia"))return{Icon:L,gradient:"from-[#A5B4FC] via-[#818CF8] to-[#6366F1]",glow:"rgba(129, 140, 248, 0.4)"};const x=[{gradient:"from-[#67E8F9] via-[#22D3EE] to-[#06B6D4]",glow:"rgba(34, 211, 238, 0.4)"},{gradient:"from-[#86EFAC] via-[#4ADE80] to-[#22C55E]",glow:"rgba(74, 222, 128, 0.4)"},{gradient:"from-[#FDBA74] via-[#FB923C] to-[#F97316]",glow:"rgba(251, 146, 60, 0.4)"}];return{Icon:H,...x[m%x.length]}},{Icon:l,gradient:o,glow:i}=t(a.title,s),c=a.available_seats||null;return e.jsxs(h,{to:`/concorsi/${a.slug}`,className:"group relative bg-[var(--card)] shadow-soft transition-all duration-500 lg:duration-700 hover:-translate-y-1.5 flex flex-col overflow-hidden rounded-[28px] lg:rounded-[32px] border border-[var(--card-border)]",style:{width:"clamp(180px, calc((100vw - 32px) * 0.48), 300px)",height:"clamp(210px, 24vh, 280px)"},children:[e.jsxs("div",{className:"relative overflow-hidden flex items-center justify-center bg-slate-100 dark:bg-slate-700",style:{aspectRatio:"2 / 1",width:"100%"},children:[a.home_banner_url?e.jsx("img",{src:a.home_banner_url,alt:a.title,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${o} opacity-90`}),e.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(to bottom, rgba(255,255,255,0.2) 0%, transparent 60%)"}}),e.jsx("div",{className:"relative z-10 flex items-center justify-center transition-all duration-500 group-hover:scale-110 group-hover:rotate-3",style:{width:"64px",height:"64px",borderRadius:"20px",background:"rgba(255,255,255,0.25)",backdropFilter:"blur(10px)",boxShadow:"0 8px 32px rgba(0,0,0,0.1), inset 0 1px 0 rgba(255,255,255,0.4)",border:"1px solid rgba(255,255,255,0.2)"},children:e.jsx(l,{className:"text-white w-8 h-8",strokeWidth:1.5})})]}),a.is_new&&e.jsx("div",{className:"absolute top-3.5 right-3.5 bg-white/95 backdrop-blur-md text-[#00B1FF] text-[10px] font-black px-2.5 py-1 rounded-full shadow-sm z-10 border border-[#00B1FF]/10 uppercase tracking-tight",children:"Nuovo"})]}),e.jsxs("div",{className:"flex flex-col justify-between bg-[var(--card)] relative z-10 p-4 lg:p-5 flex-1",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("h3",{className:"font-extrabold text-[var(--foreground)] leading-[1.3] line-clamp-2 group-hover:text-[#00B1FF] transition-colors text-[14px] lg:text-[16px] tracking-tight",children:a.title}),a.subtitle&&e.jsx("p",{className:"text-[var(--foreground)] opacity-60 line-clamp-1 text-[11px] lg:text-[13px] font-medium group-hover:opacity-100 transition-opacity",children:a.subtitle})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[a.year?e.jsx("div",{className:"px-2 py-0.5 bg-slate-100 dark:bg-slate-700 rounded-md",children:e.jsx("span",{className:"text-[var(--foreground)] opacity-50 font-bold text-[10px] lg:text-[11px] uppercase tracking-wider",children:a.year})}):e.jsx("div",{}),c&&e.jsxs("div",{className:"flex items-center gap-1.5 bg-emerald-50 px-2.5 py-1 rounded-[10px] border border-emerald-100 shadow-sm shadow-emerald-900/5",children:[e.jsx(z,{className:"w-3 h-3 text-emerald-500"}),e.jsxs("span",{className:"text-emerald-700 font-black text-[10px] lg:text-[11px]",children:[c," posti"]})]})]})]})]})}function f({title:a,contests:s}){const t=k.useRef(null),l=o=>{if(t.current){const i=o==="left"?-300:300;t.current.scrollBy({left:i,behavior:"smooth"})}};return!s||s.length===0?null:e.jsxs("div",{className:"max-w-7xl lg:mx-auto","data-onboarding":"concorsi",children:[e.jsxs("div",{className:"flex justify-between items-center px-4 lg:px-8 mb-4 lg:mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("div",{className:"w-9 h-9 lg:w-10 lg:h-10 rounded-[12px] bg-[#E0F2FE] dark:bg-cyan-900/30 flex items-center justify-center",children:e.jsx(S,{className:"w-4 h-4 lg:w-5 lg:h-5 text-[#00B1FF]",fill:"#00B1FF"})}),e.jsx("h2",{className:"text-[17px] lg:text-xl font-bold text-[var(--foreground)] leading-none",children:a})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>l("left"),className:"w-9 h-9 lg:w-10 lg:h-10 rounded-full bg-[var(--card)] border border-[var(--card-border)] hover:bg-slate-100 dark:hover:bg-slate-700 flex items-center justify-center transition-all shadow-sm",children:e.jsx(A,{className:"w-4 h-4 lg:w-5 lg:h-5 text-[var(--foreground)] opacity-60"})}),e.jsx("button",{onClick:()=>l("right"),className:"w-9 h-9 lg:w-10 lg:h-10 rounded-full bg-[var(--card)] border border-[var(--card-border)] hover:bg-slate-100 dark:hover:bg-slate-700 flex items-center justify-center transition-all shadow-sm",children:e.jsx(I,{className:"w-4 h-4 lg:w-5 lg:h-5 text-[var(--foreground)] opacity-60"})})]})]}),e.jsxs("div",{ref:t,className:"flex overflow-x-auto snap-x snap-mandatory scrollbar-hide py-2 -my-2 gap-3 lg:gap-4",style:{alignItems:"flex-start"},children:[e.jsx("div",{className:"w-4 lg:w-8 flex-shrink-0"}),s.map((o,i)=>e.jsx("div",{className:"snap-start flex-shrink-0",children:e.jsx(V,{contest:o,index:i})},i)),e.jsx("div",{className:"w-4 lg:w-8 flex-shrink-0"})]})]})}function ee(){const{profile:a}=N(),{hasCompletedOnboarding:s,startOnboarding:t}=y(),[l,o]=d.useState([]),[i,c]=d.useState([]),[n,m]=d.useState(!0);d.useEffect(()=>{if(!n&&!s){const g=setTimeout(()=>{t()},500);return()=>clearTimeout(g)}},[n,s,t]),d.useEffect(()=>{Promise.all([C(),B()]).then(([g,u])=>{o(g),c(u),m(!1)}),F(async()=>{const{offlineService:g}=await import("./offlineService-NJrdonGj.js");return{offlineService:g}},__vite__mapDeps([0,1,2,3,4,5,6,7])).then(({offlineService:g})=>{navigator.onLine&&g.syncAndClean().then(u=>{u>0&&console.log(`[Offline Sync] Synced ${u} attempts.`)})})},[]);const r=l.slice(0,8),x=l.slice(2,12);return e.jsxs("div",{className:"min-h-screen bg-[var(--background)] text-[var(--foreground)] pb-24 transition-colors duration-300",children:[e.jsx(O,{title:"Il miglior simulatore per i tuoi Concorsi Pubblici",description:"Preparati al meglio per i concorsi di Polizia, Carabinieri, Forze Armate e molto altro con quiz ufficiali e statistiche avanzate."}),e.jsxs("main",{className:"flex flex-col",children:[e.jsx("section",{children:e.jsx(G,{})}),e.jsx("section",{className:"px-4 lg:px-8 -mt-4 lg:-mt-6 max-w-7xl lg:mx-auto lg:w-full relative z-20",children:e.jsx(K,{items:i})}),e.jsx("section",{className:"mt-10 lg:mt-14",children:e.jsx(f,{title:"Consigliati per te",contests:r})}),e.jsx("section",{className:"mt-10 lg:mt-14",children:e.jsx(f,{title:"Esplora concorsi",contests:x})})]})]})}export{ee as default};
